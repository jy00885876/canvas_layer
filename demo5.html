<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="Generator" content="EditPlusÂ®">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <script src="jquery-1.4.1.min.js"></script>
  <script src="canvaslayer.js"></script>
  <title>demo -- child layer</title>
 </head>
 <body>
 <canvas  id ="myCanvas" ></canvas> 
 <script>
 $canvas = canvasFn.setCanVas( '#myCanvas', 800, 800 );
 $layer = $canvas.createLayerAndIn({color:'#f00',x:100,y:100,width:300,height:300});
 $layer2 = $layer.addChild({color:'#00f','x':150,y:150,width:100,height:100});
 $layer3 = $layer.addChild({txt:'#00f','x':150,y:150,width:100,height:100});
 $layer2.leftclick(function($points){
	 alert(1);
 })

 $layer2.leftclick(function($points){
	 alert(2);
 })
 
 $layer.leftclick(function($points){
	 alert(3);
 },true)
 $layer.drag(function($points){
	 var $key = $points.length-1;
	 if($key>0){
		 var $weiyiX = $points[$key].offsetX - $points[$key-1].offsetX;
		 var $weiyiY = $points[$key].offsetY - $points[$key-1].offsetY;
		 this.x = this.x + $weiyiX;
		 this.y = this.y + $weiyiY;
	 }
	 return false;
 })
</script>
 </body>
</html>
